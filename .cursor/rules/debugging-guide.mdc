---
description: 
globs: 
alwaysApply: true
---
# ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰

## ğŸš¨ ç·Šæ€¥å¯¾å¿œ - æœ€è¿‘è§£æ±ºã•ã‚ŒãŸé‡è¦ãªå•é¡Œ

### Runtime Error: Cannot read properties of undefined (reading 'map')
**ç™ºç”Ÿæ—¥**: 2024å¹´12æœˆ27æ—¥  
**ç—‡çŠ¶**: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•æ™‚ã«ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ
**æ ¹æœ¬åŸå› **: 
- `requirementsData.graduationRequirements`ï¼ˆè¤‡æ•°å½¢ï¼‰ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ãŸãŒã€å®Ÿéš›ã®JSONã¯`graduationRequirement`ï¼ˆå˜æ•°å½¢ï¼‰
- `checkGraduationRequirements`é–¢æ•°ãŒé…åˆ—ã‚’æœŸå¾…ã—ã¦ã„ãŸãŒã€undefinedã‚’å—ã‘å–ã£ã¦ã„ãŸ

**è§£æ±ºæ‰‹é †**:
1. [page.tsx](mdc:app/page.tsx)ã®`requirementsData.graduationRequirements`ã‚’`requirementsData.graduationRequirement`ã«ä¿®æ­£
2. [simpleRequirementChecker.ts](mdc:app/lib/simpleRequirementChecker.ts)ã®å‹å®šç¾©ã‚’å®Ÿéš›ã®JSONãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«åˆã‚ã›ã¦ä¿®æ­£
3. ç«¶åˆã™ã‚‹`requirementChecker.ts`ã‚’ä¸€æ™‚ç„¡åŠ¹åŒ–

**äºˆé˜²ç­–**: 
- JSONãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®å¤‰æ›´æ™‚ã¯å¿…ãšå‹å®šç¾©ã‚‚åŒæ™‚ã«æ›´æ–°
- TypeScriptãƒ“ãƒ«ãƒ‰ã‚’å®šæœŸçš„ã«å®Ÿè¡Œã—ã¦å‹ã‚¨ãƒ©ãƒ¼ã‚’æ—©æœŸç™ºè¦‹

### TypeScriptå‹ã‚¨ãƒ©ãƒ¼ - department ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
**ç—‡çŠ¶**: ãƒ“ãƒ«ãƒ‰æ™‚ã«`Property 'department' is missing`ã‚¨ãƒ©ãƒ¼
**æ ¹æœ¬åŸå› **: [courses.json](mdc:app/lib/data/courses.json)ã«`department`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒå­˜åœ¨ã—ãªã„ãŒã€å‹å®šç¾©ã§ã¯å¿…é ˆã«ãªã£ã¦ã„ãŸ

**è§£æ±ºæ‰‹é †**:
1. [types.ts](mdc:app/lib/types.ts)ã®`Course`å‹ã§`department`ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ï¼ˆ`department?: string`ï¼‰ã«å¤‰æ›´
2. [utils.ts](mdc:app/lib/utils.ts)ã®`calculateCreditsByDepartment`ã§é©åˆ‡ãªnullãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ 
3. å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ`as Course[]`ï¼‰ã§JSONãƒ‡ãƒ¼ã‚¿ã®å‹å•é¡Œã‚’è§£æ±º

**äºˆé˜²ç­–**:
- JSONãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ã¨å‹å®šç¾©ã®æ•´åˆæ€§ã‚’å®šæœŸçš„ã«ãƒã‚§ãƒƒã‚¯
- ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯å¿…ãšnullãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè£…

## ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºæ–¹æ³•

### 1. TypeScriptå‹ã‚¨ãƒ©ãƒ¼

#### å•é¡Œï¼šç§‘ç›®ãƒ‡ãƒ¼ã‚¿ã®å‹ã‚¨ãƒ©ãƒ¼
```
Type 'string' is not assignable to type 'CourseCategory'
```
**è§£æ±ºæ–¹æ³•ï¼š**
1. [types.ts](mdc:app/lib/types.ts)ã§`CourseCategory`å‹ã‚’ç¢ºèª
2. [courses.json](mdc:app/lib/data/courses.json)ã®ãƒ‡ãƒ¼ã‚¿ãŒå‹å®šç¾©ã¨ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª
3. å¿…è¦ã«å¿œã˜ã¦å‹å®šç¾©ã‚’æ‹¡å¼µã¾ãŸã¯ä¿®æ­£

#### å•é¡Œï¼šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®propsã‚¨ãƒ©ãƒ¼
```
Property 'onSearch' is missing in type
```
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ç¢ºèª
interface Props {
  onSearch: (filter: SearchFilter) => void; // å¿…é ˆãƒ—ãƒ­ãƒƒãƒ—
  onReset?: () => void; // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«ãƒ—ãƒ­ãƒƒãƒ—
}
```

### 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œãªã„

#### ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼š
1. `'use client'`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒé©åˆ‡ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹
3. ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ‘ã‚¹ãŒæ­£ã—ã„ã‹
4. æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®æ¡ä»¶ã‚’ç¢ºèª

```typescript
// æ‚ªã„ä¾‹
export function CourseSearch() { ... }

// è‰¯ã„ä¾‹
export default function CourseSearch() { ... }
```

### 3. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸é–¢é€£ã®å•é¡Œ

#### å•é¡Œï¼šãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œãªã„
**ãƒ‡ãƒãƒƒã‚°æ‰‹é †ï¼š**
1. ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ« â†’ Application â†’ Local Storage ã‚’ç¢ºèª
2. [storage.ts](mdc:app/lib/storage.ts)ã®`saveUserData`é–¢æ•°ãŒå‘¼ã°ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
3. ã‚¨ãƒ©ãƒ¼ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèª

```typescript
// ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒ­ã‚°ã‚’è¿½åŠ 
console.log('Saving data:', userData);
localStorage.setItem(STORAGE_KEY, JSON.stringify(userData));
console.log('Data saved successfully');
```

#### å•é¡Œï¼šãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼
```typescript
// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’è¿½åŠ 
try {
  const data = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
  return data;
} catch (error) {
  console.error('Failed to parse stored data:', error);
  return createDefaultUserData();
}
```

### 4. APIé–¢é€£ã®å•é¡Œ

#### å•é¡Œï¼šã‚·ãƒ©ãƒã‚¹ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°APIãŒå‹•ä½œã—ãªã„
**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆï¼š**
1. [route.ts](mdc:app/api/scrape/route.ts)ã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
2. CORSã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ãªã„ã‹
3. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¿ãƒ–ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®è©³ç´°ã‚’ç¢ºèª

```typescript
// ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ç¢ºèª
const response = await fetch('/api/scrape');
console.log('Response status:', response.status);
console.log('Response headers:', response.headers);
const data = await response.json();
console.log('Response data:', data);
```

### 5. çŠ¶æ…‹ç®¡ç†ã®å•é¡Œ

#### å•é¡Œï¼šçŠ¶æ…‹ãŒæ›´æ–°ã•ã‚Œãªã„
```typescript
// æ‚ªã„ä¾‹ï¼šç›´æ¥çš„ãªçŠ¶æ…‹å¤‰æ›´
userCourses.push(newCourse); // âŒ
setUserCourses(userCourses);

// è‰¯ã„ä¾‹ï¼šæ–°ã—ã„é…åˆ—ã‚’ä½œæˆ
setUserCourses(prev => [...prev, newCourse]); // âœ…
```

#### å•é¡Œï¼šç„¡é™ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
```typescript
// æ‚ªã„ä¾‹ï¼šä¾å­˜é…åˆ—ãªã—
useEffect(() => {
  fetchData();
}); // âŒ ç„¡é™ãƒ«ãƒ¼ãƒ—

// è‰¯ã„ä¾‹ï¼šé©åˆ‡ãªä¾å­˜é…åˆ—
useEffect(() => {
  fetchData();
}, [dependency]); // âœ…
```

## ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«ã¨æ‰‹æ³•

### 1. React Developer Tools
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ„ãƒªãƒ¼ã§propsã¨çŠ¶æ…‹ã‚’ç¢ºèª
- ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ©ãƒ¼ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’åˆ†æ

### 2. ãƒ–ãƒ©ã‚¦ã‚¶é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«
- **Console**: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã¨ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°
- **Network**: APIå‘¼ã³å‡ºã—ã®è©³ç´°
- **Application**: ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å†…å®¹
- **Elements**: DOMæ§‹é€ ã¨CSS

### 3. TypeScript Language Server
- VSCodeã§ã®å‹ã‚¨ãƒ©ãƒ¼ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
- å‹å®šç¾©ã¸ã®ã‚¸ãƒ£ãƒ³ãƒ—ï¼ˆCtrl+Clickï¼‰

### 4. ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°

```typescript
// é–‹ç™ºç’°å¢ƒã§ã®ã¿ãƒ­ã‚°ã‚’å‡ºåŠ›
export const debugLog = (message: string, data?: any) => {
  if (process.env.NODE_ENV === 'development') {
    console.log(`[DEBUG] ${message}`, data);
  }
};

// ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è©³ç´°ãªå†…å®¹ã‚’è¡¨ç¤º
export const deepLog = (obj: any) => {
  console.log(JSON.stringify(obj, null, 2));
};
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œã®ãƒ‡ãƒãƒƒã‚°

### 1. ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°å•é¡Œ
```typescript
// React.memo ã§ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã‚’é˜²ã
const CourseItem = React.memo(({ course, onUpdate }) => {
  console.log('CourseItem rendered:', course.id);
  return <div>...</div>;
});

// useMemo ã§è¨ˆç®—ã®æœ€é©åŒ–
const filteredCourses = useMemo(() => {
  console.log('Filtering courses...');
  return filterCourses(courses, filter);
}, [courses, filter]);
```

### 2. ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯
```typescript
// useEffect ã§ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
useEffect(() => {
  const timer = setInterval(() => {
    // å‡¦ç†
  }, 1000);

  return () => {
    clearInterval(timer); // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
  };
}, []);
```

## ã‚¨ãƒ©ãƒ¼å¢ƒç•Œï¼ˆError Boundaryï¼‰ã®å®Ÿè£…

```typescript
// components/ErrorBoundary.tsx
'use client';

import React, { Component, ReactNode } from 'react';

interface Props {
  children: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: any) {
    console.error('Error caught by boundary:', error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="p-4 bg-red-50 border border-red-200 rounded">
          <h2 className="text-red-800 font-bold">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ</h2>
          <p className="text-red-600">
            ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ãŒã€äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚
            ãƒšãƒ¼ã‚¸ã‚’å†èª­ã¿è¾¼ã¿ã—ã¦ãŠè©¦ã—ãã ã•ã„ã€‚
          </p>
          {process.env.NODE_ENV === 'development' && (
            <details className="mt-2">
              <summary>ã‚¨ãƒ©ãƒ¼è©³ç´°ï¼ˆé–‹ç™ºç”¨ï¼‰</summary>
              <pre className="text-xs text-red-700 mt-1">
                {this.state.error?.stack}
              </pre>
            </details>
          )}
        </div>
      );
    }

    return this.props.children;
  }
}

export default ErrorBoundary;
```

## æœ¬ç•ªç’°å¢ƒã§ã®å•é¡Œèª¿æŸ»

### 1. ãƒ­ã‚°åé›†
```typescript
// ã‚¨ãƒ©ãƒ¼å ±å‘Šã®å®Ÿè£…
window.addEventListener('error', (event) => {
  const errorInfo = {
    message: event.message,
    filename: event.filename,
    lineno: event.lineno,
    colno: event.colno,
    error: event.error?.stack,
    userAgent: navigator.userAgent,
    timestamp: new Date().toISOString(),
  };
  
  // ã‚¨ãƒ©ãƒ¼å ±å‘Šã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
  // reportError(errorInfo);
  console.error('Global error:', errorInfo);
});
```

### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–
```typescript
// ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“ã®æ¸¬å®š
window.addEventListener('load', () => {
  const loadTime = performance.now();
  console.log(`Page loaded in ${loadTime}ms`);
});
```

## ç·Šæ€¥æ™‚ã®å¯¾å¿œæ‰‹é †

### 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ãªã„
1. `npm run dev` ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
2. `package.json` ã®ä¾å­˜é–¢ä¿‚ã‚’ç¢ºèª
3. `node_modules` ã‚’å‰Šé™¤ã—ã¦ `npm install` ã‚’å®Ÿè¡Œ
4. TypeScriptè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆtsconfig.jsonï¼‰ã‚’ç¢ºèª

### 2. ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚ŒãŸ
1. ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’ç¢ºèª
2. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹ã‹ç¢ºèª
3. [storage.ts](mdc:app/lib/storage.ts)ã®`importUserData`é–¢æ•°ã§ãƒ‡ãƒ¼ã‚¿å¾©å…ƒ

### 3. é‡å¤§ãªãƒã‚°ã®ç™ºè¦‹
1. è©²å½“æ©Ÿèƒ½ã‚’ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–
2. ã‚¨ãƒ©ãƒ¼å¢ƒç•Œã§ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è¡¨ç¤º
3. ç·Šæ€¥ä¿®æ­£ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
4. ä¿®æ­£å¾Œã€å³åº§ã«ãƒ‡ãƒ—ãƒ­ã‚¤

## ãƒ‡ãƒãƒƒã‚°æ™‚ã®å¿ƒæ§‹ãˆ

1. **ä»®å®šã›ãšã«ç¢ºèªã™ã‚‹**: ã€Œå‹•ã„ã¦ã„ã‚‹ã¯ãšã€ã§ã¯ãªãå®Ÿéš›ã«ç¢ºèª
2. **å°ã•ãªå¤‰æ›´ã‹ã‚‰**: ä¸€åº¦ã«å¤§ããªå¤‰æ›´ã‚’ã›ãšã€å°ã•ãªå¤‰æ›´ã§å•é¡Œã‚’ç‰¹å®š
3. **ãƒ­ã‚°ã‚’æ´»ç”¨**: console.logã¯æ¥ãšã‹ã—ã„ã“ã¨ã§ã¯ãªã„
4. **ä»–äººã®ç›®**: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§å•é¡Œã‚’ç™ºè¦‹
5. **ä¼‘æ†©ã‚’å–ã‚‹**: è¡Œãè©°ã¾ã£ãŸã‚‰ä¸€åº¦é›¢ã‚Œã¦é ­ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥

## ğŸ†• ç³»åˆ¥æ©Ÿèƒ½å®Ÿè£…æ™‚ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼ˆ2024å¹´12æœˆ27æ—¥è¿½åŠ ï¼‰

### 1. å‹å®šç¾©é–¢é€£ã®å•é¡Œ

#### å•é¡Œï¼šSearchFilterå‹ã«systemãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã—å¿˜ã‚Œ
```
Property 'system' does not exist on type 'SearchFilter'
```
**è§£æ±ºæ–¹æ³•ï¼š**
1. [types.ts](mdc:app/lib/types.ts)ã®`SearchFilter`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«`system?: string`ã‚’è¿½åŠ 
2. TypeScriptãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèªã—ã¦ä¿®æ­£

#### å•é¡Œï¼šãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã®å‹ã‚¨ãƒ©ãƒ¼
```
Property 'courses' is missing in type
```
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// CourseSearchã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ—ãƒ­ãƒƒãƒ—ã‚¹å‹ã‚’æ›´æ–°
interface CourseSearchProps {
  courses: Course[];  // è¿½åŠ 
  onSearch: (filter: SearchFilter) => void;
  onReset: () => void;
}
```

### 2. ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã®å•é¡Œ

#### å•é¡Œï¼šç³»ãƒ•ã‚£ãƒ«ã‚¿ãŒåŠ¹ã‹ãªã„
**ç—‡çŠ¶**: ç³»ã‚’é¸æŠã—ã¦ã‚‚ç§‘ç›®ãŒçµã‚Šè¾¼ã¾ã‚Œãªã„
**åŸå› **: `filterCourses()`é–¢æ•°ã«ç³»ãƒ•ã‚£ãƒ«ã‚¿ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒæœªå®Ÿè£…
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// utils.ts ã®filterCoursesé–¢æ•°ã«è¿½åŠ 
if (filter.system) {
  const systemName = extractSystemFromCategory(course.category);
  if (systemName !== filter.system) {
    return false;
  }
}
```

#### å•é¡Œï¼šç³»åã®æŠ½å‡ºãŒæ­£ã—ãå‹•ä½œã—ãªã„
**ç—‡çŠ¶**: ã€Œæƒ…å ±ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢ç³»(Information and Media)ã€ã‹ã‚‰ã€Œæƒ…å ±ãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢ç³»ã€ãŒæŠ½å‡ºã•ã‚Œãªã„
**åŸå› **: æ­£è¦è¡¨ç¾ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä¸é©åˆ‡
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
export function extractSystemFromCategory(category: string): string {
  const match = category.match(/^([^(]+)/);
  return match ? match[1].trim() : category;
}
```

### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹é–¢é€£ã®å•é¡Œ

#### å•é¡Œï¼šç³»åˆ¥é›†è¨ˆã®è¨ˆç®—ãŒé‡ã„
**ç—‡çŠ¶**: ç§‘ç›®æ•°ãŒå¤šã„ã¨ãã«ç”»é¢ã®åå¿œãŒé…ã„
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// useMemoã‚’ä½¿ç”¨ã—ã¦è¨ˆç®—ã‚’ãƒ¡ãƒ¢åŒ–
const systemCredits = useMemo(() => 
  calculateCreditsBySystem(courses, userCourses), 
  [courses, userCourses]
);
```

#### å•é¡Œï¼šä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒç™ºç”Ÿ
**ç—‡çŠ¶**: å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿æ“ä½œã§å…¨ä½“ãŒå†æç”»ã•ã‚Œã‚‹
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// å±•é–‹çŠ¶æ…‹ã‚’ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã§ç®¡ç†
const [expandedSystems, setExpandedSystems] = useState<Record<string, boolean>>({});

const toggleSystemExpansion = useCallback((systemName: string) => {
  setExpandedSystems(prev => ({
    ...prev,
    [systemName]: !prev[systemName]
  }));
}, []);
```

### 4. UIè¡¨ç¤ºã®å•é¡Œ

#### å•é¡Œï¼šãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå´©ã‚Œã‚‹
**ç—‡çŠ¶**: ãƒ¢ãƒã‚¤ãƒ«ã§ç³»åˆ¥è¡¨ç¤ºãŒè¦‹åˆ‡ã‚Œã‚‹
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã«
<div className="grid grid-cols-1 md:grid-cols-2 gap-4">
```

#### å•é¡Œï¼šå±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œãªã„
**ç—‡çŠ¶**: ChevronDownã‚¢ã‚¤ã‚³ãƒ³ãŒã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
import { ChevronDown, ChevronUp } from 'lucide-react';
```

### 5. ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®å•é¡Œ

#### å•é¡Œï¼šç³»åˆ¥é›†è¨ˆã§ç§‘ç›®ãŒé‡è¤‡ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹
**ç—‡çŠ¶**: åŒã˜ç§‘ç›®ãŒè¤‡æ•°ã®ç³»ã«ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹
**åŸå› **: ç§‘ç›®ã®ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ãŒæ›–æ˜§
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// ç§‘ç›®ã¯å¿…ãš1ã¤ã®ç³»ã«ã®ã¿å±ã™ã‚‹ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
// extractSystemFromCategory()ã®çµæœã‚’æ¤œè¨¼
```

#### å•é¡Œï¼šç©ºã®ç³»ãŒè¡¨ç¤ºã•ã‚Œã‚‹
**ç—‡çŠ¶**: å±¥ä¿®ç§‘ç›®ãŒãªã„ç³»ã‚‚è¡¨ç¤ºã•ã‚Œã‚‹
**è§£æ±ºæ–¹æ³•ï¼š**
```typescript
// å±¥ä¿®ç§‘ç›®ãŒã‚ã‚‹ç³»ã®ã¿ã‚’è¡¨ç¤º
{Object.entries(systemCredits)
  .filter(([_, data]) => data.completed > 0 || data.planned > 0)
  .map(([systemName, data]) => (
    // è¡¨ç¤ºå‡¦ç†
  ))
}
```

### 6. ãƒ‡ãƒãƒƒã‚°æ‰‹æ³•

#### ç³»åˆ¥é›†è¨ˆã®ãƒ‡ãƒãƒƒã‚°
```typescript
// ãƒ‡ãƒãƒƒã‚°ç”¨ã®ãƒ­ã‚°å‡ºåŠ›
console.log('Available systems:', availableSystems);
console.log('System credits:', systemCredits);
console.log('Filter:', filter);

// ç³»åæŠ½å‡ºã®ãƒ†ã‚¹ãƒˆ
courses.forEach(course => {
  const system = extractSystemFromCategory(course.category);
  console.log(`${course.category} â†’ ${system}`);
});
```

#### ãƒ•ã‚£ãƒ«ã‚¿å‹•ä½œã®ãƒ‡ãƒãƒƒã‚°
```typescript
// ãƒ•ã‚£ãƒ«ã‚¿çµæœã®ç¢ºèª
const filtered = filterCourses(courses, filter);
console.log(`Filtered ${filtered.length} courses from ${courses.length}`);
console.log('Filter applied:', filter);
```

### 7. ã‚ˆãã‚ã‚‹å®Ÿè£…ãƒŸã‚¹

#### ãƒŸã‚¹1: ãƒ—ãƒ­ãƒƒãƒ—ã‚¹ã®æ¸¡ã—å¿˜ã‚Œ
```typescript
// æ‚ªã„ä¾‹
<CourseSearch onSearch={handleSearch} onReset={handleResetSearch} />

// è‰¯ã„ä¾‹
<CourseSearch 
  courses={courses}  // è¿½åŠ 
  onSearch={handleSearch} 
  onReset={handleResetSearch} 
/>
```

#### ãƒŸã‚¹2: ä¾å­˜é…åˆ—ã®è¨­å®šãƒŸã‚¹
```typescript
// æ‚ªã„ä¾‹ï¼šcoursesãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†è¨ˆç®—ã•ã‚Œãªã„
const availableSystems = useMemo(() => {
  // å‡¦ç†
}, []); // âŒ

// è‰¯ã„ä¾‹
const availableSystems = useMemo(() => {
  // å‡¦ç†
}, [courses]); // âœ…
```

#### ãƒŸã‚¹3: å‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã®ä¹±ç”¨
```typescript
// æ‚ªã„ä¾‹
const systems = courses.map(c => c.category as string);

// è‰¯ã„ä¾‹
const systems = courses.map(c => extractSystemFromCategory(c.category));
```

### 8. ç³»åˆ¥æ©Ÿèƒ½ã®å‹•ä½œç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ç³»åˆ¥ãƒ•ã‚£ãƒ«ã‚¿ã§ç§‘ç›®ãŒæ­£ã—ãçµã‚Šè¾¼ã¾ã‚Œã‚‹
- [ ] ç³»åˆ¥è¡¨ç¤ºã§å˜ä½æ•°ãŒæ­£ç¢ºã«é›†è¨ˆã•ã‚Œã‚‹
- [ ] å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãŒé©åˆ‡ã«è¡¨ç¤ºã•ã‚Œã‚‹
- [ ] TypeScriptãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒãªã„
- [ ] æ—¢å­˜æ©Ÿèƒ½ã«å½±éŸ¿ãŒãªã„
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒé©åˆ‡ï¼ˆuseMemoãŒåŠ¹ã„ã¦ã„ã‚‹ï¼‰
- [ ] æ—¥æœ¬èªã‚½ãƒ¼ãƒˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹

ã“ã®ç³»åˆ¥æ©Ÿèƒ½ã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æƒ…å ±ã‚’å‚è€ƒã«ã€é¡ä¼¼ã®æ©Ÿèƒ½å®Ÿè£…æ™‚ã®å•é¡Œè§£æ±ºã‚’åŠ¹ç‡åŒ–ã—ã¦ãã ã•ã„ã€‚
